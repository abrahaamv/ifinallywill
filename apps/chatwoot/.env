# Chatwoot Configuration for VisualKit Platform
# Copy to .env and configure values

# =============================================================================
# Application
# =============================================================================
SECRET_KEY_BASE=533b849e36d8eb1452fd329068505c3c759b45dece9ead965dc462115e904c013209e8eb7b511074dac943ae5d1a5a2e947cb9b4970b369ef09b4968c80a1a09
FRONTEND_URL=http://localhost:3000
FORCE_SSL=false
ENABLE_ACCOUNT_SIGNUP=true

# Allow embedding in iframe from VisualKit Dashboard
# CRITICAL: This enables the dual-sidebar layout in dashboard.visualkit.live/support
# Development: localhost:5174, Production: dashboard.visualkit.live
FRAME_ANCESTORS='self' http://localhost:5174 https://dashboard.visualkit.live

# Installation name shown in UI
INSTALLATION_NAME=VisualKit Support

# Default locale
DEFAULT_LOCALE=en

# =============================================================================
# Database (shared PostgreSQL with Platform)
# =============================================================================
POSTGRES_HOST=platform-postgres
POSTGRES_PORT=5432
POSTGRES_DATABASE=chatwoot
POSTGRES_USERNAME=platform
POSTGRES_PASSWORD=platform_dev_password

# =============================================================================
# Redis (shared with Platform)
# =============================================================================
REDIS_URL=redis://:platform_redis_password@platform-redis:6379

# =============================================================================
# Mail Configuration (Mailhog for development)
# =============================================================================
MAILER_SENDER_EMAIL=VisualKit Support <support@visualkit.live>
SMTP_ADDRESS=mailhog
SMTP_PORT=1025
SMTP_AUTHENTICATION=none
SMTP_ENABLE_STARTTLS_AUTO=false

# Production mail (uncomment and configure)
# SMTP_ADDRESS=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USERNAME=apikey
# SMTP_PASSWORD=your_sendgrid_api_key
# SMTP_AUTHENTICATION=plain
# SMTP_ENABLE_STARTTLS_AUTO=true

# =============================================================================
# Storage (optional - for attachments)
# =============================================================================
# Local storage (default)
ACTIVE_STORAGE_SERVICE=local

# S3-compatible storage (production)
# ACTIVE_STORAGE_SERVICE=amazon
# S3_BUCKET_NAME=visualkit-chatwoot-storage
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=us-east-1

# =============================================================================
# VisualKit Integration
# =============================================================================
# Platform API URL (for webhook callbacks)
VISUALKIT_API_URL=http://host.docker.internal:3001

# Webhook secret for signature verification
VISUALKIT_WEBHOOK_SECRET=your_webhook_secret_here

# =============================================================================
# Captain AI (DISABLED - VisualKit AI is exclusive)
# =============================================================================
# Do NOT enable Captain - conflicts with VisualKit AI agent
# OPENAI_API_KEY=
# CAPTAIN_ENABLED=false

# =============================================================================
# Optional Features
# =============================================================================
# Sentry error tracking
# SENTRY_DSN=

# Push notifications (requires Firebase)
# VAPID_PUBLIC_KEY=
# VAPID_PRIVATE_KEY=

# IP lookup for visitor location
# IP_LOOKUP_SERVICE=geoip2
# MAXMIND_LICENSE_KEY=

# =============================================================================
# Development Settings
# =============================================================================
# Enable verbose logging
RAILS_LOG_TO_STDOUT=true
LOG_LEVEL=debug

# Disable various checks for development
DISABLE_TELEMETRY=true
